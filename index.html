<html>
    <head>
        <title>
            标准分形树
        </title>
    </head>
    <body>
        <svg id="mySvg" width=800 height=600></svg>
        <script>
             var w=window.innerWidth
|| document.documentElement.clientWidth
|| document.body.clientWidth;

            var h=window.innerHeight
|| document.documentElement.clientHeight
|| document.body.clientHeight;
                //适应浏览器窗口的尺寸
                var mysvg=document.getElementById("mySvg");
                mysvg.setAttribute("width",w*0.9);
                mysvg.setAttribute("height",h*0.9);
                //修改svg的高和宽
                var iter=0;//迭代次数
                //定义递归二叉树,rate:长度衰减系数，count:递归次数，length：主干树杈长度
                function show(x0,y0,length,rate,a,count){
                    iter++;
                    var x1=x0;
                    var y1=y0;
                    var x2=x1+length*(0.5+0.5*Math.random())*Math.cos(a);
                    var y2=y1+length*(0.5+0.5*Math.random())*Math.sin(a);
                    //线段长度随机
                    svgline=document.createElement("line");
                    mysvg.appendChild(svgline);
                    svgline.outerHTML="<line x1="+x1+" y1="+y1+" x2="+x2+" y2="+y2+" style='stroke:rgb("+(230-count*25)+",89,131);stroke-width:"+(count)+"' />";
                    //迭代次数count控制线段粗细，iter控制绿色
                    var aL=a-Math.PI/4*(0.5+0.5*Math.random());
                    var aR=a+Math.PI/4*(0.5+0.5*Math.random());
                    var am=a-Math.PI/8+Math.PI/4*(0.5-0.5*Math.random());
                    if(count>0){
                        show(x2,y2,length*rate,rate,aL,count-1);
                        show(x2,y2,length*rate,rate,aR,count-1);
                        show(x2,y2,length*rate,rate,am,count-1);
                    }
                }
                //调用递归
                show(w/2,h,250,0.7,-Math.PI/2,10);
        </script>
    </body>
</html>